(this["webpackJsonpanh-dang-project-five"]=this["webpackJsonpanh-dang-project-five"]||[]).push([[0],{19:function(e,a,t){e.exports=t.p+"static/media/logo.7e841cd3.jpg"},20:function(e,a,t){e.exports=t(33)},25:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),l=t.n(c),o=(t(25),t(2)),s=t(3),i=t(5),u=t(4),m=t(11),p=t.n(m);t(26);p.a.initializeApp({apiKey:"AIzaSyBTCK4vDsDPy7QORKwccUNTSlKuEsTsC_o",authDomain:"desserts-corner.firebaseapp.com",databaseURL:"https://desserts-corner.firebaseio.com",projectId:"desserts-corner",storageBucket:"desserts-corner.appspot.com",messagingSenderId:"596476269546",appId:"1:596476269546:web:0298aec07519180a239893"});var d=p.a,f=t(8),h=t(9),v=t(19),E=t.n(v),k=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).state={count:0},e}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("nav",null,r.a.createElement("button",null,r.a.createElement(f.a,{icon:h.a}),r.a.createElement("p",null,"0"))),r.a.createElement("div",{className:"headerImage"},r.a.createElement("img",{src:E.a,alt:"Bakery Logo"})),r.a.createElement("h1",null,"Life is short! Eat dessert first!")))}}]),t}(n.Component),g=(n.Component,function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).handleClick=function(a,t,n){e.state.cartRef.push(a)},e.removeCake=function(a){e.state.cartRef.child(a).remove()},e.state={dbRef:d.database().ref(),cartRef:d.database().ref("userCart"),cakes:[],userBag:[],total:0},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.dbRef.on("value",(function(a){var t=[],n=a.val();for(var r in n.store)t.push({cake:n.store[r],id:r});e.setState({cakes:t})})),this.state.cartRef.on("value",(function(a){var t=[],n=a.val();for(var r in n)t.push({cake:n[r],id:r,price:n[r].price});var c=t.map((function(e){return e.price}));console.log(c),e.setState({userBag:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",{className:"storeCakes"},this.state.cakes.map((function(a){return r.a.createElement("li",{key:a.id},r.a.createElement("img",{src:a.cake.image,alt:a.cake.name}),r.a.createElement("p",null,a.cake.name),r.a.createElement("p",null,"$",a.cake.price),r.a.createElement("button",{onClick:function(){return e.handleClick(a.cake,a.id,a.cake.price)}},"Add to Cart"))}))),r.a.createElement("div",{className:"userCakes"},r.a.createElement("p",null,"You have ",this.state.userBag.length," items in your bags"),r.a.createElement("ul",null,this.state.userBag.map((function(a){return r.a.createElement("li",{key:a.id},r.a.createElement("img",{src:a.cake.image,alt:a.cake.name}),r.a.createElement("div",{className:"bagText"},r.a.createElement("p",null,a.cake.name),r.a.createElement("p",null,"$",a.cake.price)),r.a.createElement("button",{onClick:function(){return e.removeCake(a.id)},className:"deleteButton"},r.a.createElement(f.a,{icon:h.b})))})),r.a.createElement("p",null,"Total: ",this.state.total)))))}}]),t}(n.Component)),b=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"Copyright anhthuydang 2020")))},C=(t(32),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(g,null),r.a.createElement(b,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.42278f71.chunk.js.map