(this["webpackJsonpanh-dang-project-five"]=this["webpackJsonpanh-dang-project-five"]||[]).push([[0],{19:function(e,a,t){e.exports=t.p+"static/media/logo.7e841cd3.jpg"},20:function(e,a,t){e.exports=t(33)},25:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),o=t.n(c),l=(t(25),t(2)),s=t(3),i=t(5),u=t(4),m=t(19),h=t.n(m),d=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("nav",null),r.a.createElement("div",{className:"headerImage"},r.a.createElement("img",{src:h.a,alt:"Bakery Logo"})),r.a.createElement("h1",null,"Life is short! Eat dessert first!")))}}]),t}(n.Component),p=t(11),g=t.n(p);t(26);g.a.initializeApp({apiKey:"AIzaSyBTCK4vDsDPy7QORKwccUNTSlKuEsTsC_o",authDomain:"desserts-corner.firebaseapp.com",databaseURL:"https://desserts-corner.firebaseio.com",projectId:"desserts-corner",storageBucket:"desserts-corner.appspot.com",messagingSenderId:"596476269546",appId:"1:596476269546:web:0298aec07519180a239893"});var f=g.a,v=t(6),E=t(7),b=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.handleHideBag,t=e.userBag,n=e.removeCake,c=e.total;return r.a.createElement("div",{className:"userCakes"},r.a.createElement("button",{className:"goBackButton",onClick:a},r.a.createElement(v.a,{icon:E.a})),r.a.createElement("p",null,"You have ",t.length," items in your bags"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("img",{src:e.cake.image,alt:e.cake.name}),r.a.createElement("div",{className:"bagText"},r.a.createElement("p",null,e.cake.name),r.a.createElement("p",null,"$",e.cake.price)),r.a.createElement("button",{onClick:function(){return n(e.id)},className:"deleteButton"},r.a.createElement(v.a,{icon:E.c})))})),r.a.createElement("p",null,"Total: $",c)))}}]),t}(n.Component),k=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.handleShowBag,t=e.userBag;return r.a.createElement("div",{className:"bagButtonContainer"},r.a.createElement("button",{className:"bagButton",onClick:a},r.a.createElement(v.a,{icon:E.b}),r.a.createElement("p",null,t.length)))}}]),t}(n.Component),B=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).handleAddToBag=function(a){e.state.bagRef.push(a)},e.removeCake=function(a){e.state.bagRef.child(a).remove()},e.state={dbRef:f.database().ref(),bagRef:f.database().ref("userBag"),cakes:[],userBag:[],total:0},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.dbRef.on("value",(function(a){var t=[],n=a.val();for(var r in n.store)t.push({cake:n.store[r],id:r});e.setState({cakes:t})})),this.state.bagRef.on("value",(function(a){var t=[],n=a.val();for(var r in n)t.push({cake:n[r],id:r,price:n[r].price});var c=t.map((function(e){return e.price})).reduce((function(e,a){return e+a}),0);e.setState({userBag:t,total:c})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",{className:"storeCakes"},this.state.cakes.map((function(a){return r.a.createElement("li",{key:a.id},r.a.createElement("img",{src:a.cake.image,alt:a.cake.name}),r.a.createElement("p",null,a.cake.name),r.a.createElement("p",null,"$",a.cake.price),r.a.createElement("button",{onClick:function(){return e.handleAddToBag(a.cake,a.id)}},"Add to Cart"))}))),r.a.createElement(k,{handleShowBag:this.props.handleShowBag,userBag:this.state.userBag}),this.props.isBagShown?r.a.createElement(b,{handleHideBag:this.props.handleHideBag,userBag:this.state.userBag,removeCake:this.removeCake,total:this.state.total}):null))}}]),t}(n.Component),w=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"Copyright anhthuydang 2020")))},j=(t(32),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).handleShowBag=function(){e.setState({isBagShown:!0})},e.handleHideBag=function(){e.setState({isBagShown:!1})},e.state={isBagShown:!1},e}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(B,{isBagShown:this.state.isBagShown,handleShowBag:this.handleShowBag,handleHideBag:this.handleHideBag}),r.a.createElement(w,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.ae355f4d.chunk.js.map